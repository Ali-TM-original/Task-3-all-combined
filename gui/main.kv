
WindowManager:
    FirstWindow:
    SecondWindow:


<CustomPopup>:
    Popup:
        title: "This is my popup"
        auto_dismiss: True
        size_hint: 0.6, 0.2
        pos_hint: {"x": 0.2, "top": 0.9}
        BoxLayout:
            orientation: 'vertical'
            size: root.width, root.height
            MDLabel:
                text: "WELCOME"
                font_size: 40
            Button:
                text:"Closeme"


<FirstWindow>:
    name: 'first'

    BoxLayout:
        orientation: 'vertical'
        size: root.width, root.height

        MDScreen:

            MDCard:
                size_hint: None, None
                size: 300, 450
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                elevation: 10
                padding: 25
                spacing: 25
                radius: 12
                orientation: 'vertical'

                MDLabel:
                    id: welcome_label
                    text: "WELCOME"
                    font_size: 40
                    halign: 'center'
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding_y: 15

                MDTextFieldRound:
                    id: user
                    hint_text: "username"
                    icon_right: "account"
                    size_hint_x: None
                    width: 200
                    font_size: 18
                    pos_hint: {"center_x": 0.5}

                MDTextFieldRound:
                    id: password
                    hint_text: "password"
                    icon_right: "eye-off"
                    size_hint_x: None
                    width: 200
                    font_size: 18
                    pos_hint: {"center_x": 0.5}
                    password: True

                MDRoundFlatButton:
                    id: login_but
                    text: "LOG IN"
                    background_color: (0,0,0,0)
                    font_size: 12
                    pos_hint: {"center_x": 0.5}
                    on_press: root.login()
                    on_release: root.animated_login_button(self)

                MDRoundFlatButton:
                    id: logout_but
                    text: "LOG OUT"
                    font_size: 12
                    pos_hint: {"center_x": 0.5}
                    on_press: root.logout()


                MDRoundFlatButton:
                    id: clear_but
                    text: "CLEAR"
                    font_size: 12
                    pos_hint: {"center_x": 0.5}
                    on_press: root.clear()

                Widget:
                    size_hint_y: None
                    height: 10

            MDIconButton:
                icon: "language-python"
                pos_hint: {"center_x": .67, "center_y": .85}
                on_press: app.chg()


<SecondWindow>:
    name: 'second'

    MDToolbar:
        title: "Welcome to Aliâ„¢ Masterpiece"
        pos_hint: {"center_x": .5, "center_y": .95}
        elevation: 24

    MDIconButton:
        icon: "language-python"
        pos_hint: {"center_x": .5, "center_y": .5}
        user_font_size: "128sp"
        on_press: app.chg()

    MDTextField:
        id: ticket_check
        hint_text: "Enter Ticket"
        helper_text: "Check out our prices if not sure"
        helper_text_mode: "on_focus"
        icon_right: "language-python"
        icon_right_color: app.theme_cls.primary_color
        pos_hint: {'center_x': 0.5, 'center_y': 0.4}
        size_hint_x:None
        width:300

    MDTextField:
        id: time_check
        hint_text: "Enter Time"
        helper_text: "Check out our timings"
        helper_text_mode: "on_focus"
        icon_right: "language-python"
        icon_right_color: app.theme_cls.primary_color
        pos_hint: {'center_x': 0.5, 'center_y': 0.3}
        size_hint_x:None
        width:300

    MDRoundFlatButton:
        id: buy_ticket_button
        text: "Buy Tickets"
        background_color: (0,0,0,0)
        font_size: 12
        pos_hint: {'center_x': 0.5, 'center_y': 0.2}
        on_press: root.check_time_and_ticket(self)
        on_release: root.animated_ticket_button(self)

    BoxLayout:
        orientation: 'vertical'
        size: root.width, root.height

        MDBottomAppBar:
            MDToolbar:
                title: "Logout"
                icon: 'logout-variant'
                mode: "end"
                type: 'bottom'
                elevation: 24
                on_action_button : root.logout()





